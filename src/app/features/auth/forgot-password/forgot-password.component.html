<div class="forgot-password-container">
  <div class="forgot-password-wrapper">
    <div class="forgot-password-header">
      <div class="logo">
        <i class="pi pi-dumbbell"></i>
        <h1>MauricioGym</h1>
      </div>
      <p class="subtitle">Recuperar senha</p>
    </div>

    <p-card class="forgot-password-card">
      <div *ngIf="!emailSent" class="forgot-password-form-container">
        <div class="form-description">
          <h3>Esqueceu sua senha?</h3>
          <p>Digite seu email abaixo e enviaremos instruções para redefinir sua senha.</p>
        </div>

        <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-password-form">
          <div class="form-group">
            <label for="email" class="form-label">Email</label>
            <input
              pInputText
              id="email"
              formControlName="email"
              placeholder="Digite seu email"
              class="form-control"
              [class.is-invalid]="isFieldInvalid('email')"
              autocomplete="email"
            />
            <div class="invalid-feedback" *ngIf="isFieldInvalid('email')">
              {{ getFieldError('email') }}
            </div>
          </div>

          <div class="form-actions">
            <p-button
              type="submit"
              label="Enviar Instruções"
              icon="pi pi-send"
              [loading]="loading"
              [disabled]="forgotPasswordForm.invalid"
              styleClass="w-100 send-button"
            ></p-button>
          </div>
        </form>
      </div>

      <div *ngIf="emailSent" class="email-sent-container">
        <div class="success-icon">
          <i class="pi pi-check-circle"></i>
        </div>
        <h3>Email Enviado!</h3>
        <p class="success-message">
          Enviamos instruções para redefinir sua senha para o email informado.
          Verifique sua caixa de entrada e siga as instruções.
        </p>
        <div class="email-actions">
          <p-button
            type="button"
            label="Reenviar Email"
            icon="pi pi-refresh"
            [loading]="loading"
            styleClass="resend-button"
            severity="secondary"
            (click)="onResendEmail()"
          ></p-button>
        </div>
      </div>

      <div class="forgot-password-footer">
        <button
          type="button"
          class="back-to-login-link"
          (click)="onBackToLogin()"
        >
          <i class="pi pi-arrow-left"></i>
          Voltar ao login
        </button>
      </div>
    </p-card>
  </div>
</div>